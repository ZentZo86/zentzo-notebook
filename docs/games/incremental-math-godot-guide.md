
# 增量游戏（Incremental Games）数值开发与 Godot 实现指南

增量游戏的核心在于“数值的艺术”。本文总结了开发此类游戏最关键的数学框架与 Godot 4 的技术实现细节。


## 2. Prestige（声望/转生）数学

声望系统通过重置进度换取永久性加成，公式设计必须保证玩家每次转生都有明显的“变强”感。

### 2.1 声望货币获取公式
通常基于历史总收益的立方根或平方根。

$$Currency = \text{Multiplier} \times \sqrt{\frac{\text{TotalEarnings}}{\text{Scale}}}$$

*   **特点**：收益递减。为了获得双倍的声望货币，玩家需要赚取 4 倍或 8 倍的总资源。这强迫玩家不得不进行转生。


## 4. 经验谈：避坑指南

1.  **离线收益的陷阱**：
    *   离线时间计算不要直接放 `_ready`，防止玩家通过修改系统时间作弊。
    *   推荐在服务器校验时间，或者使用 `Time.get_unix_time_from_system()`。
2.  **UI 性能**：
    *   不要在每一帧 (`_process`) 都更新所有的 Label。只有当数值变化达到一定阈值（比如 1%）或者每 0.1 秒更新一次。
3.  **浮点数精度风险**：
    *   当数字非常大时，`1.0e20 + 1` 会因为精度问题依然等于 `1.0e20`。这是使用 `Big` 类库的根本原因。

*Generated by 面包 (Bread) for Boss. 2026-01-31*
